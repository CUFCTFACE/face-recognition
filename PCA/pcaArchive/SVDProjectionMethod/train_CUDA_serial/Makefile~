####################################################################################################
#   Makefile
#
#   edited by: William Halsey
#   whalsey@g.clemson.edu
#
#   Description: 
#
#   Last edited: 
#
#
all: clean totalprogram

totalprogram: grayscale.o training.o ppm.o
	gcc -m64 -O3 -Wall grayscale.o training.o ppm.o -o training -L/usr/local/cula/lib64 -lcula_core -lcula_lapack -lcublas -lcudart

grayscale.o: grayscale.c
	gcc -m64 -O3 -Wall -c grayscale.c -I/usr/local/cula/include -I/usr/local/cuda/include

training.o: training.c
	gcc -m64 -O3 -Wall -c training.c -I/usr/local/cula/include -I/usr/local/cuda/include

ppm.o: ppm.c
	gcc -m64 -O3 -Wall -c ppm.c -I/usr/local/cula/include -I/usr/local/cuda/include

clean:
	rm -rf *o training
